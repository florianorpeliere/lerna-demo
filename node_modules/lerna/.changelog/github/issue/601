{
  "url": "https://api.github.com/repos/lerna/lerna/issues/601",
  "repository_url": "https://api.github.com/repos/lerna/lerna",
  "labels_url": "https://api.github.com/repos/lerna/lerna/issues/601/labels{/name}",
  "comments_url": "https://api.github.com/repos/lerna/lerna/issues/601/comments",
  "events_url": "https://api.github.com/repos/lerna/lerna/issues/601/events",
  "html_url": "https://github.com/lerna/lerna/pull/601",
  "id": 207948641,
  "number": 601,
  "title": "Fix --ignore flag when globs are expanded to an array",
  "user": {
    "login": "rtsao",
    "id": 780408,
    "avatar_url": "https://avatars3.githubusercontent.com/u/780408?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/rtsao",
    "html_url": "https://github.com/rtsao",
    "followers_url": "https://api.github.com/users/rtsao/followers",
    "following_url": "https://api.github.com/users/rtsao/following{/other_user}",
    "gists_url": "https://api.github.com/users/rtsao/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/rtsao/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/rtsao/subscriptions",
    "organizations_url": "https://api.github.com/users/rtsao/orgs",
    "repos_url": "https://api.github.com/users/rtsao/repos",
    "events_url": "https://api.github.com/users/rtsao/events{/privacy}",
    "received_events_url": "https://api.github.com/users/rtsao/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "id": 295312270,
      "url": "https://api.github.com/repos/lerna/lerna/labels/Tag:%20Bug%20Fix",
      "name": "Tag: Bug Fix",
      "color": "fc2929",
      "default": false
    }
  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "assignees": [

  ],
  "milestone": null,
  "comments": 2,
  "created_at": "2017-02-15T22:28:29Z",
  "updated_at": "2017-02-16T20:46:27Z",
  "closed_at": "2017-02-16T20:46:27Z",
  "pull_request": {
    "url": "https://api.github.com/repos/lerna/lerna/pulls/601",
    "html_url": "https://github.com/lerna/lerna/pull/601",
    "diff_url": "https://github.com/lerna/lerna/pull/601.diff",
    "patch_url": "https://github.com/lerna/lerna/pull/601.patch"
  },
  "body": "Suppose we have:\r\n- `package-a`\r\n- `package-b`\r\n- `package-c`\r\n\r\n<hr/>\r\n\r\nThe following works as expected:\r\n```\r\nlerna bootstrap --ignore=package-@(a|b)\r\n```\r\n\r\nThe message is:\r\n```\r\nIgnoring packages that match 'package-@(a|b)'\r\n```\r\n\r\nAnd the following packages are bootstrapped:\r\n- `package-c`\r\n\r\n<hr/>\r\n\r\nThe following does *not* work as expected:\r\n```\r\nlerna bootstrap --ignore=package-{a,b}\r\n```\r\n\r\nThe message is:\r\n```\r\nIgnoring packages that match 'package-a,package-b'\r\n```\r\n\r\nAnd the following packages are bootstrapped:\r\n- `package-a` (incorrect)\r\n- `package-b` (incorrect)\r\n- `package-c`\r\n\r\nThe latter glob is expanded to an array even before reaching `filterPackage` in `PackageUtilities`. (Notice the difference in messages). However, the logic regarding negation (i.e. `maybeNegate`) was only *within* `glob.some`, which would not work in the case that `glob.length > 1`.\r\n\r\nThis PR changes the boolean reducer depending on the desired negation (i.e. `Array.prototype.some` for the standard case, and `Array.prototype.every` for the negated case.",
  "closed_by": {
    "login": "evocateur",
    "id": 5605,
    "avatar_url": "https://avatars0.githubusercontent.com/u/5605?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/evocateur",
    "html_url": "https://github.com/evocateur",
    "followers_url": "https://api.github.com/users/evocateur/followers",
    "following_url": "https://api.github.com/users/evocateur/following{/other_user}",
    "gists_url": "https://api.github.com/users/evocateur/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/evocateur/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/evocateur/subscriptions",
    "organizations_url": "https://api.github.com/users/evocateur/orgs",
    "repos_url": "https://api.github.com/users/evocateur/repos",
    "events_url": "https://api.github.com/users/evocateur/events{/privacy}",
    "received_events_url": "https://api.github.com/users/evocateur/received_events",
    "type": "User",
    "site_admin": false
  }
}